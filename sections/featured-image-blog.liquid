{{ 'section-blog-post.css' | asset_url | stylesheet_tag }}
<div class="container">
  <header class="blog-info-title featured-img">
    <h1 class="article-template__title" itemprop="headline">{{ article.title | escape }}</h1>
    {%- if section.settings.blog_show_date -%}
      <span class="caption-with-letter-spacing" itemprop="dateCreated pubdate datePublished">{{ article.published_at | time_tag: format: 'month_year' }}</span>
    {%- endif -%}
    <a href="#comments" class="caption-with-letter-spacing">
      <i class="icon-comment"></i>
      {% if article.comments_count <= 1 %}
      {{ 'blogs.article.comments.one' | t: count: article.comments_count }}
      {% else %}
      {{ 'blogs.article.comments.other' | t: count: article.comments_count }}
      {% endif %}
    </a>
    {%- if section.settings.blog_show_author -%}
      <span class="caption-with-letter-spacing" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">{{ article.author }}</span>
      </span>
    {%- endif -%}
  </header>
  <div class="article-template__hero-{{ section.settings.image_height }}{% if section.settings.image_height != 'adapt' %} media{% endif %}" itemprop="image" {% if section.settings.image_height == 'square' and article.image %} style="padding-bottom: 100%"{% endif %}>
    <img srcset="{% if article.image.width >= 350 %}{{ article.image | image_url: width: 350 }} 350w,{% endif %}
      {% if article.image.width >= 700 %}{{ article.image | image_url: width: 700 }} 700w,{% endif %}
      {% if article.image.width >= 749 %}{{ article.image | image_url: width: 749 }} 749w,{% endif %}
      {% if article.image.width >= 1498 %}{{ article.image | image_url: width: 1498 }} 1498w,{% endif %}
      {% if article.image.width >= 1100 %}{{ article.image | image_url: width: 1100 }} 1100w,{% endif %}
      {% if article.image.width >= 2200 %}{{ article.image | image_url: width: 2200 }} 2200w,{% endif %}"
      sizes="(min-width: 1200px) 1100px, (min-width: 750px) calc(100vw - 10rem), 100vw"
      src="{{ article.image | image_url: width: 1100 }}"
      loading="lazy"
      width="{{ article.image.width }}"
      height="{{ article.image.height }}"
      alt="{{ article.image.alt | escape }}">
  </div>
</div>
{% schema %}
{
  "name": "Article image",
  "tag": "section",
  "class":"section-featured-image",
  "settings": [
    {
      "type": "select",
      "id": "image_height",
      "options": [
        {
          "value": "adapt",
          "label": "Adapt to image"
        },
        {
          "value": "square",
          "label": "Square"
        },
        {
          "value": "medium",
          "label": "Medium"
        },
        {
          "value": "large",
          "label": "Large"
        }
      ],
      "default": "adapt",
      "label": "Featured image height",
      "info": "For best results, use an image with a 16:9 aspect ratio."
    },
    {
      "type": "checkbox",
      "id": "blog_show_date",
      "default": true,
      "label": "Show date"
    },
    {
      "type": "checkbox",
      "id": "blog_show_author",
      "default": false,
      "label": "Show author"
    }
  ]
}
{% endschema %}